<app-navigation></app-navigation>
<div class="justify-content-center align-items-center container w-50">
 <div class="row">
  <form [formGroup]="itemCreateForm" id="new-item-form" (ngSubmit)="onSaveItem()" enctype="multipart/form-data" class="form-margin-top">
    <div class="form-group">
      <h5 for="book-name">Item Title</h5>
      <input
        name='title'
        type="text"
        class="form-control"
        placeholder="Insert item name"
        formControlName="title">
      <span class='text-danger' *ngIf='itemCreateForm.controls.title.invalid && itemCreateForm.controls.title.touched'>This field cannot be left empty!</span>
      <h5 for="book-name">Item description</h5>
      <textarea
        name='description'
        type="text"
        class="form-control"
        placeholder="Describe your item"
        formControlName="description">
    </textarea>
    <span class='text-danger' *ngIf='itemCreateForm.controls.description.invalid && itemCreateForm.controls.description.touched'>You must add a description</span>
    </div>
    <label *ngIf='editMode'>File Name: {{this.itemCreateForm.value.title}}</label>
    <div class="custom-file">
      <input type="file" class="form-control-file" id="customFile" #filePicker (change)='onImagePicked($event)'>
      <label class="custom-file-label" for="customFile">Choose file</label>
    </div>
    <div class='image-preview' *ngIf='imagePreview !== "" && imagePreview && itemCreateForm.get("image").valid'>
      <img [src]="imagePreview" [alt]="itemCreateForm.value.title">
    </div>
      <!-- <input
        name='image'
        type="file"
        class="form-control-file"
        formControlName="image"
        > -->

    <small class="form-text text-muted">Please enter the title of your item</small>
    <button type='submit' class="btn btn-primary mt-3" >Add to collection</button>
  </form>
  </div>
</div>
